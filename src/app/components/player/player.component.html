<div class="player">
  <h3 class="player__header">
    <img
      class="player__header__image"
      src="../../../assets/icons/playing.svg"
      alt="Playing Icon"
    />
    <span class="player__header__text">Tocando agora</span>
  </h3>

  <div class="player__preview">
    <span *ngIf="!currentEpisode; else image" class="player__preview__text">
      Selecione um podcast para ouvir</span
    >
    <ng-template #image>
      <img
        class="player__preview__image"
        [src]="currentEpisode?.thumbnail"
        alt=""
      />
    </ng-template>
  </div>

  <div *ngIf="currentEpisode" class="player__details">
    <h1 class="player__details__title">{{ currentEpisode.title }}</h1>
    <p class="player__details__members">{{ currentEpisode.members }}</p>
  </div>

  <div class="player__actions">
    <div class="player__actions__progress">
      <span>{{ timeElapsed$ | async }}</span>
      <mat-slider></mat-slider>
      <span>{{ currentDuration$ | async | hour }}</span>
    </div>

    <div class="player__buttons">
      <button [disabled]="!currentEpisode" mat-icon-button>
        <img src="../../../assets/icons/shuffle.svg" alt="" />
      </button>
      <button [disabled]="!currentEpisode" mat-icon-button>
        <img src="../../../assets/icons/play-previous.svg" alt="" />
      </button>
      <button
        [disabled]="!currentEpisode"
        [ngClass]="{ playing: isPlaying$ | async }"
        (click)="togglePlay()"
        mat-icon-button
        class="play-pause"
      >
        <img
          *ngIf="isPlaying$ | async; else pause"
          src="../../../assets/icons/pause.svg"
          alt=""
        />
        <ng-template #pause>
          <img src="../../../assets/icons/play.svg" alt="" />
        </ng-template>
      </button>
      <button [disabled]="!currentEpisode" mat-icon-button>
        <img src="../../../assets/icons/play-next.svg" alt="" />
      </button>
      <button [disabled]="!currentEpisode" mat-icon-button>
        <img src="../../../assets/icons/repeat.svg" alt="" />
      </button>
    </div>
  </div>
</div>
